<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生打卡签到系统 - 公开访问版</title>
    <!-- 使用CDN确保所有设备都能加载 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Chart.js 用于统计图表 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* 内联所有CSS确保立即加载 */
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --success-color: #4cc9f0;
            --danger-color: #f72585;
            --warning-color: #f8961e;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --border-radius: 12px;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: #f8f9fa;
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* 页面容器 */
        .page {
            display: none;
            min-height: 100vh;
            padding-top: 70px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .page.active {
            display: block;
        }

        /* 导航栏 */
        .navbar {
            background: white;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            padding: 0 20px;
            height: 70px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-brand:hover {
            color: var(--secondary-color);
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 70px;
                left: 0;
                right: 0;
                background: white;
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-toggle {
                display: block;
                background: none;
                border: none;
                font-size: 24px;
                color: var(--dark-color);
            }
        }

        .nav-link {
            color: #6c757d;
            text-decoration: none;
            padding: 10px 0;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .nav-toggle {
            display: none;
        }

        /* 按钮样式 */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(67, 97, 238, 0.3);
        }

        .btn-success {
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
        }

        .btn-lg {
            padding: 15px 30px;
            font-size: 18px;
        }

        .btn-block {
            width: 100%;
        }

        /* 英雄区域 */
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
            min-height: calc(100vh - 70px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .hero-section h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 36px;
            }
        }

        .hero-subtitle {
            font-size: 20px;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        /* 卡片样式 */
        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        /* 表单样式 */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        /* 表格样式 */
        .table {
            width: 100%;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .table td {
            padding: 15px;
            border-top: 1px solid #e9ecef;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        /* 徽章 */
        .badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge-danger {
            background: #f8d7da;
            color: #721c24;
        }

        /* 模态框 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            max-width: 500px;
            width: 90%;
        }

        /* 工具类 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .text-center { text-align: center; }
        .mt-1 { margin-top: 10px; }
        .mt-2 { margin-top: 20px; }
        .mt-3 { margin-top: 30px; }
        .mb-1 { margin-bottom: 10px; }
        .mb-2 { margin-bottom: 20px; }
        .mb-3 { margin-bottom: 30px; }
        .d-flex { display: flex; }
        .flex-column { flex-direction: column; }
        .align-center { align-items: center; }
        .justify-center { justify-content: center; }
        .w-100 { width: 100%; }

        /* 响应式网格 */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: -15px;
        }

        .col {
            flex: 1;
            padding: 15px;
            min-width: 300px;
        }

        /* 加载动画 */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 移动端优化 */
        @media (max-width: 576px) {
            .container {
                padding: 0 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .btn {
                padding: 8px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <a href="#" class="nav-brand" onclick="showPage('home')">
            <i class="fas fa-calendar-check"></i>
            学生签到系统
        </a>
        
        <div class="nav-links" id="navLinks">
            <a href="#" class="nav-link active" onclick="showPage('home')">
                <i class="fas fa-home"></i> 首页
            </a>
            <a href="#" class="nav-link" onclick="showPage('dashboard')">
                <i class="fas fa-tachometer-alt"></i> 仪表板
            </a>
            <a href="#" class="nav-link" onclick="showPage('attendance')">
                <i class="fas fa-history"></i> 签到记录
            </a>
            <a href="#" class="nav-link" onclick="showPage('statistics')">
                <i class="fas fa-chart-bar"></i> 数据统计
            </a>
            <a href="#" class="nav-link" onclick="showPage('profile')">
                <i class="fas fa-user"></i> 个人中心
            </a>
        </div>
        
        <button class="nav-toggle" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <!-- 首页 -->
    <div id="home" class="page active">
        <div class="hero-section">
            <h1>学生打卡签到系统</h1>
            <p class="hero-subtitle">随时随地，一键签到 • 数据安全，统计智能</p>
            
            <div class="d-flex flex-column align-center" style="gap: 20px;">
                <button class="btn btn-primary btn-lg" onclick="showPage('dashboard')">
                    <i class="fas fa-play-circle"></i> 立即体验
                </button>
                
                <div class="d-flex" style="gap: 15px;">
                    <button class="btn btn-outline" onclick="showPage('login')">
                        <i class="fas fa-sign-in-alt"></i> 用户登录
                    </button>
                    <button class="btn btn-outline" onclick="showPage('register')">
                        <i class="fas fa-user-plus"></i> 用户注册
                    </button>
                </div>
            </div>
            
            <!-- 系统状态显示 -->
            <div class="card mt-3" style="max-width: 600px; background: rgba(255,255,255,0.1);">
                <div class="text-center">
                    <h4><i class="fas fa-info-circle"></i> 系统信息</h4>
                    <p>这是一个完全在线的签到系统，无需安装，在任何设备上都能使用</p>
                    <small>当前用户：<span id="demoUser">演示用户</span></small>
                </div>
            </div>
        </div>
        
        <!-- 功能特性 -->
        <div class="container mt-3 mb-3">
            <h2 class="text-center mb-3">核心功能</h2>
            <div class="row">
                <div class="col">
                    <div class="card text-center">
                        <div style="font-size: 40px; color: var(--primary-color); margin-bottom: 15px;">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h4>一键签到</h4>
                        <p>支持多种签到方式，快速完成考勤</p>
                        <button class="btn btn-outline" onclick="showPage('dashboard')">
                            立即体验
                        </button>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card text-center">
                        <div style="font-size: 40px; color: var(--primary-color); margin-bottom: 15px;">
                            <i class="fas fa-history"></i>
                        </div>
                        <h4>记录查询</h4>
                        <p>查看历史签到记录，支持筛选导出</p>
                        <button class="btn btn-outline" onclick="showPage('attendance')">
                            查看记录
                        </button>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card text-center">
                        <div style="font-size: 40px; color: var(--primary-color); margin-bottom: 15px;">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <h4>数据统计</h4>
                        <p>可视化数据报表，实时分析签到情况</p>
                        <button class="btn btn-outline" onclick="showPage('statistics')">
                            查看统计
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 登录页面 -->
    <div id="login" class="page">
        <div class="container" style="max-width: 500px; padding-top: 50px;">
            <div class="card">
                <h2 class="text-center mb-3">
                    <i class="fas fa-sign-in-alt"></i> 用户登录
                </h2>
                
                <div class="form-group">
                    <label for="loginUsername">用户名/学号</label>
                    <input type="text" id="loginUsername" class="form-control" 
                           placeholder="请输入用户名或学号" value="demo_user">
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">密码</label>
                    <input type="password" id="loginPassword" class="form-control" 
                           placeholder="请输入密码" value="123456">
                </div>
                
                <div class="d-flex justify-between mb-3">
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" checked>
                        <span>记住登录状态</span>
                    </label>
                    <a href="#" onclick="alert('请联系管理员重置密码')">
                        忘记密码？
                    </a>
                </div>
                
                <button class="btn btn-primary btn-block" onclick="performLogin()">
                    <i class="fas fa-sign-in-alt"></i> 登录系统
                </button>
                
                <div class="text-center mt-3">
                    <p>还没有账号？ <a href="#" onclick="showPage('register')">立即注册</a></p>
                </div>
                
                <!-- 测试账号提示 -->
                <div class="mt-3" style="background: #e8f5e9; padding: 15px; border-radius: 8px;">
                    <h5><i class="fas fa-info-circle"></i> 测试账号</h5>
                    <p>用户名：demo_user</p>
                    <p>密码：123456</p>
                    <small>直接点击登录即可体验系统</small>
                </div>
            </div>
        </div>
    </div>

    <!-- 注册页面 -->
    <div id="register" class="page">
        <div class="container" style="max-width: 600px; padding-top: 50px;">
            <div class="card">
                <h2 class="text-center mb-3">
                    <i class="fas fa-user-plus"></i> 新用户注册
                </h2>
                
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="regName">姓名</label>
                            <input type="text" id="regName" class="form-control" 
                                   placeholder="请输入真实姓名">
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="form-group">
                            <label for="regStudentId">学号</label>
                            <input type="text" id="regStudentId" class="form-control" 
                                   placeholder="请输入学号">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="regClass">班级</label>
                    <select id="regClass" class="form-control">
                        <option value="">请选择班级</option>
                        <option value="24级大数据A班">24级大数据A班</option>
                        <option value="24级大数据B班">24级大数据B班</option>
                        <option value="24级计科A班">24级计科A班</option>
                        <option value="24级软工A班">24级软工A班</option>
                    </select>
                </div>
                
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="regPassword">密码</label>
                            <input type="password" id="regPassword" class="form-control" 
                                   placeholder="至少6位字符">
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="form-group">
                            <label for="regConfirmPassword">确认密码</label>
                            <input type="password" id="regConfirmPassword" class="form-control" 
                                   placeholder="再次输入密码">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="agreeTerms" required>
                        <span>我已阅读并同意<a href="#" onclick="showTerms()">《用户协议》</a></span>
                    </label>
                </div>
                
                <div class="d-flex flex-column" style="gap: 10px;">
                    <button class="btn btn-primary" onclick="performRegister()">
                        <i class="fas fa-user-plus"></i> 立即注册
                    </button>
                    <button class="btn btn-outline" onclick="showPage('login')">
                        <i class="fas fa-sign-in-alt"></i> 已有账号？立即登录
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 仪表板页面 -->
    <div id="dashboard" class="page">
        <div class="container" style="padding-top: 30px;">
            <!-- 欢迎区域 -->
            <div class="card" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white;">
                <div class="d-flex justify-between align-center">
                    <div>
                        <h2 id="greeting">上午好，演示用户！</h2>
                        <p id="currentDateTime">2024年12月17日 星期二 08:30:15</p>
                    </div>
                    <div style="text-align: right;">
                        <h4 id="userInfo">演示用户</h4>
                        <p>24级大数据A班</p>
                    </div>
                </div>
            </div>
            
            <!-- 签到卡片 -->
            <div class="row mt-3">
                <div class="col">
                    <div class="card text-center">
                        <h3><i class="fas fa-fingerprint"></i> 今日签到</h3>
                        <div style="font-size: 48px; font-weight: bold; color: var(--primary-color); margin: 20px 0;">
                            <span id="signTime">--:--</span>
                        </div>
                        <div style="color: #6c757d; margin-bottom: 20px;">
                            签到时间：08:00 - 09:00
                        </div>
                        
                        <div class="row" style="margin: 20px -10px;">
                            <div class="col">
                                <div style="padding: 10px;">
                                    <div style="font-size: 24px; font-weight: bold;" id="todayStatus">未签到</div>
                                    <small>今日状态</small>
                                </div>
                            </div>
                            <div class="col">
                                <div style="padding: 10px;">
                                    <div style="font-size: 24px; font-weight: bold;" id="continuousDays">5</div>
                                    <small>连续签到</small>
                                </div>
                            </div>
                            <div class="col">
                                <div style="padding: 10px;">
                                    <div style="font-size: 24px; font-weight: bold;" id="attendanceRate">94%</div>
                                    <small>出勤率</small>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-success btn-lg btn-block" id="signButton" onclick="performSign()">
                            <i class="fas fa-check-circle"></i> 立即签到
                        </button>
                        
                        <div class="mt-2" style="color: #6c757d; font-size: 14px;">
                            <i class="fas fa-info-circle"></i> 请在有效时间和区域内完成签到
                        </div>
                    </div>
                </div>
                
                <!-- 统计卡片 -->
                <div class="col">
                    <div class="card">
                        <h3><i class="fas fa-chart-line"></i> 本周统计</h3>
                        <div class="mt-2">
                            <canvas id="weeklyChart" height="200"></canvas>
                        </div>
                    </div>
                    
                    <div class="card mt-3">
                        <h3><i class="fas fa-calendar-alt"></i> 月度统计</h3>
                        <div class="row mt-2" style="text-align: center;">
                            <div class="col">
                                <div style="font-size: 32px; font-weight: bold;" id="monthCount">15</div>
                                <small>本月签到</small>
                            </div>
                            <div class="col">
                                <div style="font-size: 32px; font-weight: bold;" id="totalCount">128</div>
                                <small>总签到</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 最近记录 -->
            <div class="card mt-3">
                <div class="d-flex justify-between align-center mb-3">
                    <h3><i class="fas fa-history"></i> 最近签到记录</h3>
                    <button class="btn btn-outline" onclick="showPage('attendance')">
                        查看更多
                    </button>
                </div>
                
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>日期</th>
                                <th>时间</th>
                                <th>状态</th>
                                <th>地点</th>
                            </tr>
                        </thead>
                        <tbody id="recentRecords">
                            <!-- 动态生成 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- 签到记录页面 -->
    <div id="attendance" class="page">
        <div class="container" style="padding-top: 30px;">
            <div class="card">
                <div class="d-flex justify-between align-center mb-3">
                    <h2><i class="fas fa-history"></i> 签到记录</h2>
                    <button class="btn btn-primary" onclick="exportData()">
                        <i class="fas fa-download"></i> 导出数据
                    </button>
                </div>
                
                <!-- 筛选区域 -->
                <div class="row mb-3">
                    <div class="col">
                        <div class="form-group">
                            <label>开始日期</label>
                            <input type="date" id="filterStart" class="form-control">
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label>结束日期</label>
                            <input type="date" id="filterEnd" class="form-control">
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label>状态</label>
                            <select id="filterStatus" class="form-control">
                                <option value="">全部状态</option>
                                <option value="normal">正常</option>
                                <option value="late">迟到</option>
                                <option value="early">早退</option>
                            </select>
                        </div>
                    </div>
                    <div class="col" style="align-self: flex-end;">
                        <button class="btn btn-outline w-100" onclick="applyFilter()">
                            <i class="fas fa-filter"></i> 筛选
                        </button>
                    </div>
                </div>
                
                <!-- 数据表格 -->
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>日期</th>
                                <th>时间</th>
                                <th>状态</th>
                                <th>地点</th>
                                <th>IP地址</th>
                            </tr>
                        </thead>
                        <tbody id="attendanceTable">
                            <!-- 动态生成 -->
                        </tbody>
                    </table>
                </div>
                
                <!-- 分页 -->
                <div class="d-flex justify-center align-center mt-3" style="gap: 20px;">
                    <button class="btn btn-outline" onclick="prevPage()">
                        <i class="fas fa-chevron-left"></i> 上一页
                    </button>
                    <span id="pageInfo">第1页，共3页</span>
                    <button class="btn btn-outline" onclick="nextPage()">
                        下一页 <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 统计页面 -->
    <div id="statistics" class="page">
        <div class="container" style="padding-top: 30px;">
            <div class="card">
                <h2 class="text-center mb-3">
                    <i class="fas fa-chart-bar"></i> 数据统计
                </h2>
                
                <!-- 统计卡片 -->
                <div class="row mb-3">
                    <div class="col">
                        <div class="card text-center">
                            <div style="font-size: 32px; font-weight: bold; color: var(--primary-color);" id="statTotal">
                                128
                            </div>
                            <div>总签到次数</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card text-center">
                            <div style="font-size: 32px; font-weight: bold; color: #4CAF50;" id="statNormal">
                                121
                            </div>
                            <div>正常签到</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card text-center">
                            <div style="font-size: 32px; font-weight: bold; color: #FF9800;" id="statLate">
                                7
                            </div>
                            <div>迟到次数</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card text-center">
                            <div style="font-size: 32px; font-weight: bold; color: #2196F3;" id="statRate">
                                94.7%
                            </div>
                            <div>出勤率</div>
                        </div>
                    </div>
                </div>
                
                <!-- 图表区域 -->
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <h4 class="text-center">签到趋势</h4>
                            <canvas id="trendChart" height="250"></canvas>
                        </div>
                    </div>
                    <div class="col">
                        <div class="card">
                            <h4 class="text-center">状态分布</h4>
                            <canvas id="statusChart" height="250"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- 时间分布 -->
                <div class="card mt-3">
                    <h4 class="text-center">签到时间分布</h4>
                    <canvas id="timeChart" height="150"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- 个人中心 -->
    <div id="profile" class="page">
        <div class="container" style="padding-top: 30px;">
            <div class="card">
                <div class="text-center mb-3">
                    <div style="font-size: 60px; color: var(--primary-color);">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <h2 id="profileName">演示用户</h2>
                    <p>24级大数据A班</p>
                </div>
                
                <!-- 个人信息 -->
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <h4><i class="fas fa-user"></i> 个人信息</h4>
                            <div class="mt-2">
                                <p><strong>学号：</strong> <span id="profileStudentId">20240001</span></p>
                                <p><strong>班级：</strong> <span id="profileClass">24级大数据A班</span></p>
                                <p><strong>邮箱：</strong> <span id="profileEmail">demo@example.com</span></p>
                                <p><strong>注册时间：</strong> 2024-09-01</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="card">
                            <h4><i class="fas fa-cog"></i> 账户设置</h4>
                            <div class="mt-2 d-flex flex-column" style="gap: 10px;">
                                <button class="btn btn-outline" onclick="showModal('changePasswordModal')">
                                    <i class="fas fa-lock"></i> 修改密码
                                </button>
                                <button class="btn btn-outline" onclick="showModal('notificationModal')">
                                    <i class="fas fa-bell"></i> 通知设置
                                </button>
                                <button class="btn btn-outline" onclick="showModal('privacyModal')">
                                    <i class="fas fa-shield-alt"></i> 隐私设置
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 系统信息 -->
                <div class="card mt-3">
                    <h4><i class="fas fa-info-circle"></i> 系统信息</h4>
                    <div class="mt-2">
                        <p>这是一个基于浏览器的签到系统演示版本</p>
                        <p>所有数据保存在本地浏览器中，清空浏览器缓存会重置数据</p>
                        <p>如需永久保存数据，请使用登录功能</p>
                    </div>
                </div>
                
                <!-- 操作按钮 -->
                <div class="mt-3 d-flex flex-column" style="gap: 10px;">
                    <button class="btn btn-primary" onclick="showPage('dashboard')">
                        <i class="fas fa-home"></i> 返回首页
                    </button>
                    <button class="btn btn-outline" onclick="clearData()">
                        <i class="fas fa-trash"></i> 清除本地数据
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 模态框 -->
    <div id="signSuccessModal" class="modal">
        <div class="modal-content">
            <div class="text-center">
                <div style="font-size: 60px; color: #4CAF50; margin-bottom: 20px;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>签到成功！</h3>
                <div class="mt-2">
                    <p id="modalSignTime">签到时间：08:15:24</p>
                    <p>签到地点：教学楼A101</p>
                    <p>今日已连续签到 <span id="modalContinuousDays" style="font-weight: bold;">6</span> 天</p>
                </div>
                <div class="mt-3 d-flex justify-center" style="gap: 10px;">
                    <button class="btn btn-primary" onclick="hideModal('signSuccessModal')">
                        确定
                    </button>
                    <button class="btn btn-outline" onclick="showPage('attendance'); hideModal('signSuccessModal')">
                        查看记录
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 修改密码模态框 -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <h3 class="mb-3"><i class="fas fa-lock"></i> 修改密码</h3>
            <div class="form-group">
                <label>当前密码</label>
                <input type="password" class="form-control" placeholder="请输入当前密码">
            </div>
            <div class="form-group">
                <label>新密码</label>
                <input type="password" class="form-control" placeholder="至少6位字符">
            </div>
            <div class="form-group">
                <label>确认新密码</label>
                <input type="password" class="form-control" placeholder="再次输入新密码">
            </div>
            <div class="mt-3 d-flex justify-end" style="gap: 10px;">
                <button class="btn btn-primary" onclick="alert('密码修改成功！'); hideModal('changePasswordModal')">
                    确认修改
                </button>
                <button class="btn btn-outline" onclick="hideModal('changePasswordModal')">
                    取消
                </button>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <div style="background: white; padding: 20px; margin-top: 50px; text-align: center; color: #6c757d;">
        <p>学生打卡签到系统 &copy; 2024 | 演示版本</p>
        <p style="font-size: 12px;">
            本系统为纯前端实现，数据保存在浏览器本地，刷新页面会保留数据，清空缓存会重置。
        </p>
    </div>

    <script>
        // ===== 全局变量 =====
        let currentPage = 'home';
        let isLoggedIn = false;
        let userData = {
            name: '演示用户',
            studentId: '20240001',
            class: '24级大数据A班',
            email: 'demo@example.com'
        };
        let attendanceRecords = [];
        let filteredRecords = [];
        let currentPageNum = 1;
        const pageSize = 10;

        // ===== 页面管理 =====
        function showPage(pageId) {
            // 隐藏所有页面
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 更新导航栏
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // 显示目标页面
            document.getElementById(pageId).classList.add('active');
            
            // 设置对应的导航链接为激活状态
            const navIndex = {
                'home': 0, 'dashboard': 1, 'attendance': 2, 
                'statistics': 3, 'profile': 4
            };
            if (navIndex[pageId] !== undefined) {
                document.querySelectorAll('.nav-link')[navIndex[pageId]].classList.add('active');
            }
            
            currentPage = pageId;
            
            // 页面特定的初始化
            switch(pageId) {
                case 'dashboard':
                    initDashboard();
                    break;
                case 'attendance':
                    initAttendancePage();
                    break;
                case 'statistics':
                    initStatisticsPage();
                    break;
                case 'profile':
                    initProfilePage();
                    break;
            }
            
            // 关闭移动端菜单
            document.getElementById('navLinks').classList.remove('active');
            
            // 滚动到顶部
            window.scrollTo(0, 0);
        }

        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }

        // ===== 用户认证 =====
        function performLogin() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!username || !password) {
                alert('请输入用户名和密码');
                return;
            }
            
            // 模拟登录过程
            showLoading();
            
            setTimeout(() => {
                // 这里可以添加真实的登录逻辑
                isLoggedIn = true;
                userData.name = username === 'demo_user' ? '演示用户' : username;
                
                // 更新显示
                document.getElementById('userInfo').textContent = userData.name;
                document.getElementById('profileName').textContent = userData.name;
                document.getElementById('demoUser').textContent = userData.name;
                
                hideLoading();
                showPage('dashboard');
                
                alert('登录成功！欢迎使用签到系统');
            }, 1000);
        }

        function performRegister() {
            const name = document.getElementById('regName').value;
            const studentId = document.getElementById('regStudentId').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            
            if (!name || !studentId || !password || !confirmPassword) {
                alert('请填写所有必填项');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('两次输入的密码不一致');
                return;
            }
            
            if (password.length < 6) {
                alert('密码长度至少为6位');
                return;
            }
            
            if (!document.getElementById('agreeTerms').checked) {
                alert('请同意用户协议');
                return;
            }
            
            // 模拟注册过程
            showLoading();
            
            setTimeout(() => {
                isLoggedIn = true;
                userData = {
                    name: name,
                    studentId: studentId,
                    class: document.getElementById('regClass').value || '24级大数据A班',
                    email: studentId + '@school.edu'
                };
                
                // 保存到本地存储
                saveToLocalStorage();
                
                hideLoading();
                showPage('dashboard');
                
                alert('注册成功！已自动登录。');
            }, 1500);
        }

        // ===== 签到功能 =====
        function performSign() {
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            const startTime = 8 * 60; // 08:00
            const endTime = 9 * 60;   // 09:00
            
            // 检查是否在签到时间内
            if (currentTime < startTime) {
                alert('签到时间未到，请在08:00-09:00之间签到');
                return;
            }
            
            if (currentTime > endTime) {
                alert('签到时间已过，请明天按时签到');
                return;
            }
            
            // 检查今日是否已签到
            const today = now.toISOString().split('T')[0];
            if (attendanceRecords.some(record => record.date === today)) {
                alert('今日已签到，无需重复签到');
                return;
            }
            
            // 更新按钮状态
            const signButton = document.getElementById('signButton');
            signButton.innerHTML = '<div class="loader" style="margin: 0 auto;"></div>';
            signButton.disabled = true;
            
            // 模拟签到过程
            setTimeout(() => {
                const timeStr = now.toLocaleTimeString('zh-CN');
                
                // 确定状态
                let status = 'normal';
                if (currentTime > 8 * 60 + 15) { // 08:15之后算迟到
                    status = 'late';
                }
                
                // 创建记录
                const newRecord = {
                    id: Date.now(),
                    date: today,
                    time: timeStr,
                    status: status,
                    location: '教学楼A101',
                    ip: `192.168.1.${Math.floor(Math.random() * 255)}`
                };
                
                // 添加到记录列表
                attendanceRecords.unshift(newRecord);
                filteredRecords = [...attendanceRecords];
                
                // 保存到本地存储
                saveToLocalStorage();
                
                // 更新界面
                updateDashboardAfterSign(timeStr, status);
                
                // 显示成功弹窗
                showModal('signSuccessModal');
                document.getElementById('modalSignTime').textContent = `签到时间：${timeStr}`;
                
                // 计算连续签到天数
                const continuousDays = calculateContinuousDays();
                document.getElementById('modalContinuousDays').textContent = continuousDays;
                document.getElementById('continuousDays').textContent = continuousDays;
            }, 1500);
        }

        function updateDashboardAfterSign(time, status) {
            // 更新时间显示
            document.getElementById('signTime').textContent = time;
            document.getElementById('todayStatus').textContent = status === 'normal' ? '已签到' : '迟到';
            
            // 更新按钮状态
            const signButton = document.getElementById('signButton');
            signButton.innerHTML = '<i class="fas fa-check-circle"></i> 今日已签到';
            signButton.classList.remove('btn-success');
            signButton.classList.add('btn-secondary');
            signButton.disabled = true;
            
            // 更新统计数据
            updateStatistics();
            
            // 更新最近记录
            updateRecentRecords();
        }

        function calculateContinuousDays() {
            if (attendanceRecords.length === 0) return 0;
            
            let continuous = 1;
            const sortedRecords = [...attendanceRecords].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            for (let i = 1; i < sortedRecords.length; i++) {
                const date1 = new Date(sortedRecords[i-1].date);
                const date2 = new Date(sortedRecords[i].date);
                const diff = (date1 - date2) / (1000 * 60 * 60 * 24);
                
                if (diff === 1) {
                    continuous++;
                } else {
                    break;
                }
            }
            
            return continuous;
        }

        // ===== 仪表板初始化 =====
        function initDashboard() {
            // 加载数据
            loadFromLocalStorage();
            
            // 更新时间和问候语
            updateDateTime();
            updateGreeting();
            
            // 检查今日签到状态
            checkTodayAttendance();
            
            // 初始化图表
            initWeeklyChart();
            
            // 更新统计数据
            updateDashboardStats();
            
            // 更新最近记录
            updateRecentRecords();
            
            // 开始时间更新
            startTimeUpdate();
        }

        function updateDateTime() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            const timeStr = now.toLocaleTimeString('zh-CN');
            
            document.getElementById('currentDateTime').textContent = `${dateStr} ${timeStr}`;
        }

        function updateGreeting() {
            const now = new Date();
            const hour = now.getHours();
            let greeting = '晚上';
            if (hour < 12) greeting = '上午';
            else if (hour < 18) greeting = '下午';
            
            document.getElementById('greeting').textContent = `${greeting}好，${userData.name}！`;
        }

        function checkTodayAttendance() {
            const today = new Date().toISOString().split('T')[0];
            const todayRecord = attendanceRecords.find(record => record.date === today);
            
            if (todayRecord) {
                document.getElementById('signTime').textContent = todayRecord.time;
                document.getElementById('todayStatus').textContent = todayRecord.status === 'normal' ? '已签到' : '迟到';
                
                const signButton = document.getElementById('signButton');
                signButton.innerHTML = '<i class="fas fa-check-circle"></i> 今日已签到';
                signButton.classList.remove('btn-success');
                signButton.classList.add('btn-secondary');
                signButton.disabled = true;
            }
        }

        function initWeeklyChart() {
            const ctx = document.getElementById('weeklyChart').getContext('2d');
            
            // 生成最近7天的数据
            const labels = [];
            const data = [];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date.getDate() + '日');
                
                // 检查当天是否有签到
                const dateStr = date.toISOString().split('T')[0];
                const hasSigned = attendanceRecords.some(record => record.date === dateStr);
                data.push(hasSigned ? 1 : 0);
            }
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '签到情况',
                        data: data,
                        backgroundColor: data.map(val => val ? '#4CAF50' : '#e0e0e0'),
                        borderColor: data.map(val => val ? '#388E3C' : '#bdbdbd'),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    return value === 1 ? '已签' : '未签';
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateDashboardStats() {
            // 本月签到次数
            const now = new Date();
            const currentMonth = now.getMonth() + 1;
            const monthCount = attendanceRecords.filter(record => {
                const recordMonth = new Date(record.date).getMonth() + 1;
                return recordMonth === currentMonth;
            }).length;
            
            // 总签到次数
            const totalCount = attendanceRecords.length;
            
            // 连续签到天数
            const continuousDays = calculateContinuousDays();
            
            // 出勤率（本月）
            const workingDays = 22; // 假设本月22个工作日
            const attendanceRate = Math.round((monthCount / workingDays) * 100);
            
            // 更新显示
            document.getElementById('monthCount').textContent = monthCount;
            document.getElementById('totalCount').textContent = totalCount;
            document.getElementById('continuousDays').textContent = continuousDays;
            document.getElementById('attendanceRate').textContent = attendanceRate + '%';
        }

        function updateRecentRecords() {
            const tbody = document.getElementById('recentRecords');
            tbody.innerHTML = '';
            
            // 显示最近5条记录
            const recentRecords = attendanceRecords.slice(0, 5);
            
            recentRecords.forEach(record => {
                const row = document.createElement('tr');
                
                let statusBadge = '';
                if (record.status === 'normal') {
                    statusBadge = '<span class="badge badge-success">正常</span>';
                } else if (record.status === 'late') {
                    statusBadge = '<span class="badge badge-warning">迟到</span>';
                } else {
                    statusBadge = '<span class="badge badge-danger">异常</span>';
                }
                
                row.innerHTML = `
                    <td>${record.date}</td>
                    <td>${record.time}</td>
                    <td>${statusBadge}</td>
                    <td>${record.location}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // ===== 签到记录页面 =====
        function initAttendancePage() {
            loadFromLocalStorage();
            filteredRecords = [...attendanceRecords];
            renderAttendanceTable();
            updatePaginationInfo();
        }

        function renderAttendanceTable() {
            const tbody = document.getElementById('attendanceTable');
            tbody.innerHTML = '';
            
            const startIndex = (currentPageNum - 1) * pageSize;
            const endIndex = startIndex + pageSize;
            const pageData = filteredRecords.slice(startIndex, endIndex);
            
            pageData.forEach(record => {
                const row = document.createElement('tr');
                
                let statusBadge = '';
                if (record.status === 'normal') {
                    statusBadge = '<span class="badge badge-success">正常</span>';
                } else if (record.status === 'late') {
                    statusBadge = '<span class="badge badge-warning">迟到</span>';
                } else {
                    statusBadge = '<span class="badge badge-danger">异常</span>';
                }
                
                row.innerHTML = `
                    <td>${record.date}</td>
                    <td>${record.time}</td>
                    <td>${statusBadge}</td>
                    <td>${record.location}</td>
                    <td>${record.ip}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        function applyFilter() {
            const startDate = document.getElementById('filterStart').value;
            const endDate = document.getElementById('filterEnd').value;
            const status = document.getElementById('filterStatus').value;
            
            filteredRecords = attendanceRecords.filter(record => {
                let pass = true;
                
                if (startDate && record.date < startDate) {
                    pass = false;
                }
                
                if (endDate && record.date > endDate) {
                    pass = false;
                }
                
                if (status && record.status !== status) {
                    pass = false;
                }
                
                return pass;
            });
            
            currentPageNum = 1;
            renderAttendanceTable();
            updatePaginationInfo();
        }

        function prevPage() {
            if (currentPageNum > 1) {
                currentPageNum--;
                renderAttendanceTable();
                updatePaginationInfo();
            }
        }

        function nextPage() {
            const totalPages = Math.ceil(filteredRecords.length / pageSize);
            if (currentPageNum < totalPages) {
                currentPageNum++;
                renderAttendanceTable();
                updatePaginationInfo();
            }
        }

        function updatePaginationInfo() {
            const totalPages = Math.ceil(filteredRecords.length / pageSize);
            document.getElementById('pageInfo').textContent = `第${currentPageNum}页，共${totalPages}页`;
        }

        function exportData() {
            // 创建CSV内容
            let csv = '日期,时间,状态,地点,IP地址\n';
            
            filteredRecords.forEach(record => {
                const statusText = record.status === 'normal' ? '正常' : 
                                 record.status === 'late' ? '迟到' : '异常';
                csv += `${record.date},${record.time},${statusText},${record.location},${record.ip}\n`;
            });
            
            // 创建下载链接
            const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `签到记录_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            alert('数据导出成功！');
        }

        // ===== 统计页面 =====
        function initStatisticsPage() {
            loadFromLocalStorage();
            updateStatistics();
            initCharts();
        }

        function updateStatistics() {
            // 计算统计数据
            const total = attendanceRecords.length;
            const normal = attendanceRecords.filter(r => r.status === 'normal').length;
            const late = attendanceRecords.filter(r => r.status === 'late').length;
            const rate = total > 0 ? Math.round((normal / total) * 100) : 0;
            
            // 更新显示
            document.getElementById('statTotal').textContent = total;
            document.getElementById('statNormal').textContent = normal;
            document.getElementById('statLate').textContent = late;
            document.getElementById('statRate').textContent = rate + '%';
        }

        function initCharts() {
            // 趋势图
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            
            // 生成最近30天的数据
            const labels = [];
            const data = [];
            
            for (let i = 29; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push((date.getMonth() + 1) + '/' + date.getDate());
                
                // 检查当天是否有签到
                const dateStr = date.toISOString().split('T')[0];
                const record = attendanceRecords.find(r => r.date === dateStr);
                data.push(record ? 1 : 0);
            }
            
            new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '签到情况',
                        data: data,
                        borderColor: '#4361ee',
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    return value === 1 ? '已签' : '未签';
                                }
                            }
                        }
                    }
                }
            });
            
            // 状态分布图
            const statusCtx = document.getElementById('statusChart').getContext('2d');
            
            const normalCount = attendanceRecords.filter(r => r.status === 'normal').length;
            const lateCount = attendanceRecords.filter(r => r.status === 'late').length;
            const otherCount = attendanceRecords.length - normalCount - lateCount;
            
            new Chart(statusCtx, {
                type: 'doughnut',
                data: {
                    labels: ['正常', '迟到', '其他'],
                    datasets: [{
                        data: [normalCount, lateCount, otherCount],
                        backgroundColor: ['#4CAF50', '#FF9800', '#F44336']
                    }]
                }
            });
            
            // 时间分布图
            const timeCtx = document.getElementById('timeChart').getContext('2d');
            
            // 统计签到时间分布
            const timeData = [0, 0, 0, 0]; // 08:00-08:15, 08:15-08:30, 08:30-09:00, 其他
            
            attendanceRecords.forEach(record => {
                const time = record.time;
                const hour = parseInt(time.split(':')[0]);
                const minute = parseInt(time.split(':')[1]);
                
                if (hour === 8) {
                    if (minute <= 15) timeData[0]++;
                    else if (minute <= 30) timeData[1]++;
                    else timeData[2]++;
                } else {
                    timeData[3]++;
                }
            });
            
            new Chart(timeCtx, {
                type: 'bar',
                data: {
                    labels: ['08:00-08:15', '08:15-08:30', '08:30-09:00', '其他时间'],
                    datasets: [{
                        label: '签到人数',
                        data: timeData,
                        backgroundColor: '#2196F3'
                    }]
                }
            });
        }

        // ===== 个人中心 =====
        function initProfilePage() {
            document.getElementById('profileName').textContent = userData.name;
            document.getElementById('profileStudentId').textContent = userData.studentId;
            document.getElementById('profileClass').textContent = userData.class;
            document.getElementById('profileEmail').textContent = userData.email;
        }

        // ===== 本地存储 =====
        function saveToLocalStorage() {
            const data = {
                userData: userData,
                attendanceRecords: attendanceRecords,
                isLoggedIn: isLoggedIn
            };
            localStorage.setItem('attendanceSystem', JSON.stringify(data));
        }

        function loadFromLocalStorage() {
            const saved = localStorage.getItem('attendanceSystem');
            if (saved) {
                const data = JSON.parse(saved);
                userData = data.userData || userData;
                attendanceRecords = data.attendanceRecords || [];
                isLoggedIn = data.isLoggedIn || false;
                
                // 生成一些初始数据（如果没有）
                if (attendanceRecords.length === 0) {
                    generateInitialData();
                }
            } else {
                generateInitialData();
            }
            
            filteredRecords = [...attendanceRecords];
        }

        function generateInitialData() {
            // 生成30天的模拟数据
            const now = new Date();
            
            for (let i = 29; i >= 0; i--) {
                const date = new Date(now);
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                // 跳过周末
                const day = date.getDay();
                if (day === 0 || day === 6) continue;
                
                // 随机决定是否签到
                if (Math.random() > 0.2) { // 80%的概率签到
                    // 随机时间（08:00-08:30之间）
                    const hour = 8;
                    const minute = Math.floor(Math.random() * 30);
                    const second = Math.floor(Math.random() * 60);
                    const timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}:${second.toString().padStart(2, '0')}`;
                    
                    // 随机状态
                    const status = Math.random() > 0.85 ? 'late' : 'normal';
                    
                    attendanceRecords.push({
                        id: Date.now() - i * 86400000,
                        date: dateStr,
                        time: timeStr,
                        status: status,
                        location: Math.random() > 0.5 ? '教学楼A101' : '教学楼B203',
                        ip: `192.168.1.${Math.floor(Math.random() * 255)}`
                    });
                }
            }
            
            // 确保今天有数据（用于演示）
            const today = now.toISOString().split('T')[0];
            if (!attendanceRecords.some(r => r.date === today)) {
                attendanceRecords.push({
                    id: Date.now(),
                    date: today,
                    time: '08:15:24',
                    status: 'normal',
                    location: '教学楼A101',
                    ip: '192.168.1.100'
                });
            }
        }

        function clearData() {
            if (confirm('确定要清除所有本地数据吗？这将重置系统到初始状态。')) {
                localStorage.removeItem('attendanceSystem');
                location.reload();
            }
        }

        // ===== 模态框 =====
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // ===== 工具函数 =====
        function showLoading() {
            // 在实际应用中可以显示加载动画
        }

        function hideLoading() {
            // 在实际应用中可以隐藏加载动画
        }

        function showTerms() {
            alert('用户协议\n\n1. 本系统为演示版本\n2. 数据保存在本地浏览器\n3. 请勿用于生产环境\n4. 仅供学习和演示使用');
        }

        function startTimeUpdate() {
            // 每秒更新时间
            setInterval(updateDateTime, 1000);
            
            // 每分钟更新问候语
            setInterval(updateGreeting, 60000);
        }

        // ===== 初始化 =====
        document.addEventListener('DOMContentLoaded', function() {
            // 加载本地数据
            loadFromLocalStorage();
            
            // 初始化用户显示
            document.getElementById('userInfo').textContent = userData.name;
            document.getElementById('profileName').textContent = userData.name;
            document.getElementById('demoUser').textContent = userData.name;
            
            // 初始时间显示
            updateDateTime();
            updateGreeting();
            
            // 检查当前URL参数
            const urlParams = new URLSearchParams(window.location.search);
            const page = urlParams.get('page');
            if (page && document.getElementById(page)) {
                showPage(page);
            }
            
            // 添加分享功能提示
            console.log('✅ 签到系统已加载完成！');
            console.log('📋 分享链接：' + window.location.href);
            console.log('💡 系统特点：');
            console.log('   - 纯前端实现，无需服务器');
            console.log('   - 数据保存在浏览器本地');
            console.log('   - 可在任何设备上访问');
            console.log('   - 支持导出数据');
            
            // 添加页面卸载前的保存提示
            window.addEventListener('beforeunload', function() {
                saveToLocalStorage();
            });
        });

        // 点击模态框外部关闭
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        });
    </script>
</body>
</html>